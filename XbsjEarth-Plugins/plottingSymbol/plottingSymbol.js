!function(i){var o=window.webpackHotUpdate;window.webpackHotUpdate=function(i,t){!function(i,o){if(!v[i]||!w[i])return;for(var t in w[i]=!1,o)Object.prototype.hasOwnProperty.call(o,t)&&(P[t]=o[t]);0==--g&&0===f&&A()}(i,t),o&&o(i,t)};var t,s=!0,e="3a5d3e56d15faad27c91",n=1e4,h={},r=[],p=[];function l(i){var o=x[i];if(!o)return k;var s=function(s){return o.hot.active?(x[s]?-1===x[s].parents.indexOf(i)&&x[s].parents.push(i):(r=[i],t=s),-1===o.children.indexOf(s)&&o.children.push(s)):(console.warn("[HMR] unexpected require("+s+") from disposed module "+i),r=[]),k(s)},e=function(i){return{configurable:!0,enumerable:!0,get:function(){return k[i]},set:function(o){k[i]=o}}};for(var n in k)Object.prototype.hasOwnProperty.call(k,n)&&"e"!==n&&"t"!==n&&Object.defineProperty(s,n,e(n));return s.e=function(i){return"ready"===c&&u("prepare"),f++,k.e(i).then(o,(function(i){throw o(),i}));function o(){f--,"prepare"===c&&(M[i]||E(i),0===f&&0===g&&A())}},s.t=function(i,o){return 1&o&&(i=s(i)),k.t(i,-2&o)},s}function a(i){var o={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:t!==i,active:!0,accept:function(i,t){if(void 0===i)o._selfAccepted=!0;else if("function"==typeof i)o._selfAccepted=i;else if("object"==typeof i)for(var s=0;s<i.length;s++)o._acceptedDependencies[i[s]]=t||function(){};else o._acceptedDependencies[i]=t||function(){}},decline:function(i){if(void 0===i)o._selfDeclined=!0;else if("object"==typeof i)for(var t=0;t<i.length;t++)o._declinedDependencies[i[t]]=!0;else o._declinedDependencies[i]=!0},dispose:function(i){o._disposeHandlers.push(i)},addDisposeHandler:function(i){o._disposeHandlers.push(i)},removeDisposeHandler:function(i){var t=o._disposeHandlers.indexOf(i);t>=0&&o._disposeHandlers.splice(t,1)},check:b,apply:X,status:function(i){if(!i)return c;_.push(i)},addStatusHandler:function(i){_.push(i)},removeStatusHandler:function(i){var o=_.indexOf(i);o>=0&&_.splice(o,1)},data:h[i]};return t=void 0,o}var _=[],c="idle";function u(i){c=i;for(var o=0;o<_.length;o++)_[o].call(null,i)}var d,P,y,g=0,f=0,M={},w={},v={};function m(i){return+i+""===i?+i:i}function b(i){if("idle"!==c)throw new Error("check() is only allowed in idle status");return s=i,u("check"),(o=n,o=o||1e4,new Promise((function(i,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var s=new XMLHttpRequest,n=k.p+""+e+".hot-update.json";s.open("GET",n,!0),s.timeout=o,s.send(null)}catch(i){return t(i)}s.onreadystatechange=function(){if(4===s.readyState)if(0===s.status)t(new Error("Manifest request to "+n+" timed out."));else if(404===s.status)i();else if(200!==s.status&&304!==s.status)t(new Error("Manifest request to "+n+" failed."));else{try{var o=JSON.parse(s.responseText)}catch(i){return void t(i)}i(o)}}}))).then((function(i){if(!i)return u("idle"),null;w={},M={},v=i.c,y=i.h,u("prepare");var o=new Promise((function(i,o){d={resolve:i,reject:o}}));P={};return E(0),"prepare"===c&&0===f&&0===g&&A(),o}));var o}function E(i){v[i]?(w[i]=!0,g++,function(i){var o=document.createElement("script");o.charset="utf-8",o.src=k.p+""+i+"."+e+".hot-update.js",document.head.appendChild(o)}(i)):M[i]=!0}function A(){u("ready");var i=d;if(d=null,i)if(s)Promise.resolve().then((function(){return X(s)})).then((function(o){i.resolve(o)}),(function(o){i.reject(o)}));else{var o=[];for(var t in P)Object.prototype.hasOwnProperty.call(P,t)&&o.push(m(t));i.resolve(o)}}function X(o){if("ready"!==c)throw new Error("apply() is only allowed in ready status");var t,s,n,p,l;function a(i){for(var o=[i],t={},s=o.map((function(i){return{chain:[i],id:i}}));s.length>0;){var e=s.pop(),n=e.id,h=e.chain;if((p=x[n])&&!p.hot._selfAccepted){if(p.hot._selfDeclined)return{type:"self-declined",chain:h,moduleId:n};if(p.hot._main)return{type:"unaccepted",chain:h,moduleId:n};for(var r=0;r<p.parents.length;r++){var l=p.parents[r],a=x[l];if(a){if(a.hot._declinedDependencies[n])return{type:"declined",chain:h.concat([l]),moduleId:n,parentId:l};-1===o.indexOf(l)&&(a.hot._acceptedDependencies[n]?(t[l]||(t[l]=[]),_(t[l],[n])):(delete t[l],o.push(l),s.push({chain:h.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:i,outdatedModules:o,outdatedDependencies:t}}function _(i,o){for(var t=0;t<o.length;t++){var s=o[t];-1===i.indexOf(s)&&i.push(s)}}o=o||{};var d={},g=[],f={},M=function(){console.warn("[HMR] unexpected require("+b.moduleId+") to disposed module")};for(var w in P)if(Object.prototype.hasOwnProperty.call(P,w)){var b;l=m(w);var E=!1,A=!1,X=!1,O="";switch((b=P[w]?a(l):{type:"disposed",moduleId:w}).chain&&(O="\nUpdate propagation: "+b.chain.join(" -> ")),b.type){case"self-declined":o.onDeclined&&o.onDeclined(b),o.ignoreDeclined||(E=new Error("Aborted because of self decline: "+b.moduleId+O));break;case"declined":o.onDeclined&&o.onDeclined(b),o.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+b.moduleId+" in "+b.parentId+O));break;case"unaccepted":o.onUnaccepted&&o.onUnaccepted(b),o.ignoreUnaccepted||(E=new Error("Aborted because "+l+" is not accepted"+O));break;case"accepted":o.onAccepted&&o.onAccepted(b),A=!0;break;case"disposed":o.onDisposed&&o.onDisposed(b),X=!0;break;default:throw new Error("Unexception type "+b.type)}if(E)return u("abort"),Promise.reject(E);if(A)for(l in f[l]=P[l],_(g,b.outdatedModules),b.outdatedDependencies)Object.prototype.hasOwnProperty.call(b.outdatedDependencies,l)&&(d[l]||(d[l]=[]),_(d[l],b.outdatedDependencies[l]));X&&(_(g,[b.moduleId]),f[l]=M)}var T,S=[];for(s=0;s<g.length;s++)l=g[s],x[l]&&x[l].hot._selfAccepted&&f[l]!==M&&S.push({module:l,errorHandler:x[l].hot._selfAccepted});u("dispose"),Object.keys(v).forEach((function(i){!1===v[i]&&function(i){delete installedChunks[i]}(i)}));for(var I,V,j=g.slice();j.length>0;)if(l=j.pop(),p=x[l]){var L={},D=p.hot._disposeHandlers;for(n=0;n<D.length;n++)(t=D[n])(L);for(h[l]=L,p.hot.active=!1,delete x[l],delete d[l],n=0;n<p.children.length;n++){var G=x[p.children[n]];G&&((T=G.parents.indexOf(l))>=0&&G.parents.splice(T,1))}}for(l in d)if(Object.prototype.hasOwnProperty.call(d,l)&&(p=x[l]))for(V=d[l],n=0;n<V.length;n++)I=V[n],(T=p.children.indexOf(I))>=0&&p.children.splice(T,1);for(l in u("apply"),e=y,f)Object.prototype.hasOwnProperty.call(f,l)&&(i[l]=f[l]);var C=null;for(l in d)if(Object.prototype.hasOwnProperty.call(d,l)&&(p=x[l])){V=d[l];var z=[];for(s=0;s<V.length;s++)if(I=V[s],t=p.hot._acceptedDependencies[I]){if(-1!==z.indexOf(t))continue;z.push(t)}for(s=0;s<z.length;s++){t=z[s];try{t(V)}catch(i){o.onErrored&&o.onErrored({type:"accept-errored",moduleId:l,dependencyId:V[s],error:i}),o.ignoreErrored||C||(C=i)}}}for(s=0;s<S.length;s++){var H=S[s];l=H.module,r=[l];try{k(l)}catch(i){if("function"==typeof H.errorHandler)try{H.errorHandler(i)}catch(t){o.onErrored&&o.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:t,originalError:i}),o.ignoreErrored||C||(C=t),C||(C=i)}else o.onErrored&&o.onErrored({type:"self-accept-errored",moduleId:l,error:i}),o.ignoreErrored||C||(C=i)}}return C?(u("fail"),Promise.reject(C)):(u("idle"),new Promise((function(i){i(g)})))}var x={};function k(o){if(x[o])return x[o].exports;var t=x[o]={i:o,l:!1,exports:{},hot:a(o),parents:(p=r,r=[],p),children:[]};return i[o].call(t.exports,t,t.exports,l(o)),t.l=!0,t.exports}k.m=i,k.c=x,k.d=function(i,o,t){k.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:t})},k.r=function(i){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},k.t=function(i,o){if(1&o&&(i=k(i)),8&o)return i;if(4&o&&"object"==typeof i&&i&&i.__esModule)return i;var t=Object.create(null);if(k.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:i}),2&o&&"string"!=typeof i)for(var s in i)k.d(t,s,function(o){return i[o]}.bind(null,s));return t},k.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return k.d(o,"a",o),o},k.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},k.p="",k.h=function(){return e},l(0)(k.s=0)}([function(i,o,t){"use strict";t.r(o);class s extends XE.Obj.PlotBase{constructor(i,o){super(i,o),this._onlyMove=!1,this._fixedPositionsNum=void 0,XE.MVVM.extend(this,{_polylineShow:!0}),this._polyline=new XE.Obj.Polyline(i),this.disposers.push(()=>{this._polyline=this._polyline&&this._polyline.destroy()}),this._polyline.show=this._polylineShow&&this.show,XE.Earth.Interaction.Picking.registerPickingParent(this._polyline,this);const t=()=>{this._polyline.show=this._polylineShow&&this.show,this._polyline.width=this.width,this._polyline.material.XbsjColorMaterial.color=this.color,this._polyline.ground=this.ground,this._polyline.depthTest=this.depthTest};t(),this.disposers.push(XE.MVVM.watch(()=>({show:this.show,polylineShow:this._polylineShow,width:this.width,color:[...this.color],ground:this.ground,depthTest:this.depthTest}),()=>t()))}get onlyMove(){return this._onlyMove}get fixedPositionsNum(){return this._fixedPositionsNum}flyTo(){this._polyline.flyTo()}}s.defaultOptions={positions:[],show:!0,width:5,color:[0,1,0,1],depthTest:!1};var e=s;const n=XE.Tool;class h extends e{constructor(i,o){super(i,o),this._onlyMove=!0,this._fixedPositionsNum=2,this._positions=new Array(6).fill(0).map(()=>[0,0,0]),this._leftArrowPosition1=[0,0,0],this._rightArrowPosition1=[0,0,0],this._leftArrowPosition2=[0,0,0],this._rightArrowPosition2=[0,0,0],this._leftArrowPosition3=[0,0,0],this._rightArrowPosition3=[0,0,0],this._leftArrowPosition4=[0,0,0],this._rightArrowPosition4=[0,0,0],this._leftArrowPosition5=[0,0,0],this._rightArrowPosition5=[0,0,0],this._leftArrowPosition6=[0,0,0],this._rightArrowPosition6=[0,0,0],this._leftArrowPosition7=[0,0,0],this._rightArrowPosition7=[0,0,0],this._polylinePositions=[],this._scratchHpr=[0,0,0],this._scratchPos=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{if(2===i.length){i[1][2]=i[0][2];const o=n.Math.geoDistance(i[0],i[1]);i[0];if(o>0){const t=n.hpr(i[0],i[1],this._scratchHpr);if(!t)return;for(let s=0;s<6;++s)n.Math.geoMove(i[0],t[0]+Cesium.Math.PI_OVER_THREE*s,o,this._positions[s]);return this._polylinePositions.length=0,n.Math.geoMove(this._positions[0],t[0]+7*Math.PI/6,.1*o,this._leftArrowPosition1),n.Math.geoMove(this._positions[0],t[0]-7*Math.PI/6,.1*o,this._rightArrowPosition1),n.Math.geoMove(this._positions[1],t[0]+3*Math.PI/2,.1*o,this._leftArrowPosition2),n.Math.geoMove(this._positions[1],t[0]-Math.PI/6,.1*o,this._rightArrowPosition2),n.Math.geoMove(this._positions[4],t[0]+Math.PI/2,.1*o,this._leftArrowPosition3),n.Math.geoMove(this._positions[4],t[0]+Math.PI/6,.1*o,this._rightArrowPosition3),n.Math.geoMove(this._positions[5],t[0]-5*Math.PI/6,.1*o,this._leftArrowPosition4),n.Math.geoMove(this._positions[5],t[0]+5*Math.PI/6,.1*o,this._rightArrowPosition4),n.Math.geoMove(this._positions[2],t[0]-Math.PI/6,.1*o,this._leftArrowPosition5),n.Math.geoMove(this._positions[2],t[0]-Math.PI/2,.1*o,this._rightArrowPosition5),n.Math.geoMove(this._positions[3],t[0]+Math.PI/2,.1*o,this._leftArrowPosition6),n.Math.geoMove(this._positions[3],t[0]+Math.PI/6,.1*o,this._rightArrowPosition6),n.Math.geoMove(this.positions[0],t[0]+7*Math.PI/6,.1*o,this._leftArrowPosition7),n.Math.geoMove(this.positions[0],t[0]-(Math.PI+Math.PI/6),.1*o,this._rightArrowPosition7),this._polylinePositions.push([...i[0]]),this._polylinePositions.push([...this._positions[0]]),this._polylinePositions.push([...this._leftArrowPosition1]),this._polylinePositions.push([...this._positions[0]]),this._polylinePositions.push([...this._rightArrowPosition1]),this._polylinePositions.push([...this._positions[0]]),this._polylinePositions.push([...this._positions[1]]),this._polylinePositions.push([...this._leftArrowPosition2]),this._polylinePositions.push([...this._positions[1]]),this._polylinePositions.push([...this._rightArrowPosition2]),this._polylinePositions.push([...this._positions[1]]),this._polylinePositions.push([...this._positions[4]]),this._polylinePositions.push([...this._leftArrowPosition3]),this._polylinePositions.push([...this._positions[4]]),this._polylinePositions.push([...this._rightArrowPosition3]),this._polylinePositions.push([...this._positions[4]]),this._polylinePositions.push([...this._positions[5]]),this._polylinePositions.push([...this._leftArrowPosition4]),this._polylinePositions.push([...this._positions[5]]),this._polylinePositions.push([...this._rightArrowPosition4]),this._polylinePositions.push([...this._positions[5]]),this._polylinePositions.push([...this._positions[2]]),this._polylinePositions.push([...this._leftArrowPosition5]),this._polylinePositions.push([...this._positions[2]]),this._polylinePositions.push([...this._rightArrowPosition5]),this._polylinePositions.push([...this._positions[2]]),this._polylinePositions.push([...this._positions[3]]),this._polylinePositions.push([...this._leftArrowPosition6]),this._polylinePositions.push([...this._positions[3]]),this._polylinePositions.push([...this._rightArrowPosition6]),this._polylinePositions.push([...this._positions[3]]),this._polylinePositions.push([...i[0]]),this._polylinePositions.push([...this._leftArrowPosition7]),this._polylinePositions.push([...i[0]]),this._polylinePositions.push([...this._rightArrowPosition7]),this._polyline.positions=this._polylinePositions,void(this._polylineShow=!0)}}this._polylineShow=!1}))}}h.registerType(h,"GeoSectorSearch");var r=h;const p=XE.Tool;class l extends e{constructor(i,o){super(i,o),this._leftArrowPosition=[0,0,0],this._rightArrowPosition=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{const o=i.length,t=p.Math.distance(i);if(o<2)return void(this._polylineShow=!1);const s=p.Math.hpr(i[o-1],i[o-2]);s&&(p.Math.geoMove(i[o-1],s[0]+Math.PI/6,.1*t,this._leftArrowPosition),p.Math.geoMove(i[o-1],s[0]-Math.PI/6,.1*t,this._rightArrowPosition),i.push([...this._leftArrowPosition]),i.push([...i[o-1]]),i.push([...this._rightArrowPosition]),i.push([...i[o-1]]),this._polyline.positions=i,this._polylineShow=!0)}))}}l.registerType(l,"GeoPolylineArrow");var a=l;class _ extends XE.Obj.PlotBase{constructor(i,o){super(i,o),this._onlyMove=!1,this._fixedPositionsNum=void 0,XE.MVVM.extend(this,{_polygonShow:!0}),this._polygon=new XE.Obj.Polygon(i),this.disposers.push(()=>{this._polygon=this._polygon&&this._polygon.destroy()}),this._polygon.show=this._polygonShow&&this.show,XE.Earth.Interaction.Picking.registerPickingParent(this._polygon,this);const t=()=>{this._polygon.show=this._polygonShow&&this.show,this._polygon.width=this.width,this._polygon.color=this.color,this._polygon.ground=this.ground,this._polygon.outline.width=this.outlineWidth,this._polygon.outline.color=this.outlineColor,this._polygon.outline.show=this.outlineShow,this._polygon.depthTest=this.depthTest};t(),this.disposers.push(XE.MVVM.watch(()=>({show:this._polygonShow&&this.show,width:this.width,color:[...this.color],ground:this.ground,outlineWidth:this.outlineWidth,outlineColor:this.outlineColor,outlineShow:this.outlineShow,depthTest:this.depthTest}),()=>t()))}get onlyMove(){return this._onlyMove}get fixedPositionsNum(){return this._fixedPositionsNum}flyTo(){this._polygon.flyTo()}}_.defaultOptions={positions:[],show:!0,color:[0,1,0,.1],outlineWidth:2,outlineColor:[0,1,0,1],outlineShow:!0,depthTest:!1};var c=_;XE.Tool;class u extends c{constructor(i,o){super(i,o),this._onlyMove=!0,this._fixedPositionsNum=2,this._polygonPositions=[],this._hpr=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{if(i.length<2)return void(this._polygonShow=!1);this._polygonPositions.length=0,this._polygonPositions.push(i[0][0],i[1][1]),this._polygonPositions.push(i[0][0],i[0][1]),this._polygonPositions.push(i[1][0],.5*(i[0][1]+i[1][1]));const o=i[1][0]-i[0][0];this._polygonPositions.push(i[0][0]+.01*o,.5*(i[0][1]+i[1][1])),this._polygonPositions.push(i[0][0]+.01*o,i[1][1]),this._polygon.positions=this._polygonPositions,this._polygon.height=i[0][2],this._polygonShow=!0}))}}u.registerType(u,"GeoTriFlag");var d=u;const P=XE.Tool;class y extends e{constructor(i,o){super(i,o),this._leftArrowPosition=[0,0,0],this._rightArrowPosition=[0,0,0],this._positions=[],this.disposers.push(XE.MVVM.watch(()=>({positions:[...this.positions.map(i=>[...i])],slices:this.slices}),({positions:i,slices:o})=>{const t=i.length,s=P.Math.distance(i);if(t<2)return void(this._polylineShow=!1);this._positions.length=0,P.Math.interpolatePositions(i,o,!1,this._positions);const e=this._positions.length,n=P.Math.hpr(this._positions[e-1],this._positions[e-2]);n?(P.Math.geoMove(this._positions[e-1],n[0]+Math.PI/6,.05*s,this._leftArrowPosition),P.Math.geoMove(this._positions[e-1],n[0]-Math.PI/6,.05*s,this._rightArrowPosition),this._positions.push([...this._leftArrowPosition]),this._positions.push([...this._positions[e-1]]),this._positions.push([...this._rightArrowPosition]),this._positions.push([...this._positions[e-1]]),this._polyline.positions=this._positions,this._polylineShow=!0):this._polylineShow=!1}))}}y.defaultOptions={slices:100},y.registerType(y,"GeoCurveArrow");var g=y;const f=XE.Tool;class M extends c{constructor(i,o){super(i,o),this._onlyMove=!0,this._fixedPositionsNum=4,this._keyPositions=new Array(50).fill(0).map(i=>[0,0,0]),this._bottomCurcePositions=new Array(20).fill(0).map(i=>[0,0,0]),this._leftArrowLeftPositions=new Array(20).fill(0).map(i=>[0,0,0]),this._leftArrowRightPositions=new Array(20).fill(0).map(i=>[0,0,0]),this._rightArrowLeftPositions=new Array(20).fill(0).map(i=>[0,0,0]),this._rightArrowRightPositions=new Array(20).fill(0).map(i=>[0,0,0]),this._polygonPositions=[],this._hpr=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{const o=i.length;if(o<3||3===o&&f.Math.hasSamePosition(i))return void(this._polygonShow=!1);this._keyPositions[0].splice(0,3,...i[0]),this._keyPositions[1].splice(0,3,...i[1]),this._keyPositions[2].splice(0,3,...i[2]),4===i.length?this._keyPositions[3].splice(0,3,...i[3]):(f.Math.geoLerp(i[0],i[2],.5,this._keyPositions[3]),f.Math.geoLerp(i[1],this._keyPositions[3],2,this._keyPositions[3]));const t=this._keyPositions[0],s=this._keyPositions[1],e=this._keyPositions[2],n=this._keyPositions[3],h=f.Math.geoLerp(t,s,.5,this._keyPositions[4]),r=f.Math.geoLerp(e,n,.5,this._keyPositions[5]),p=f.Math.geoLerp(h,r,.1,this._keyPositions[6]);f.Math.Bezier.bezier2(t,p,s,19,this._bottomCurcePositions);const l=f.Math.geoDistance(t,s),a=s,_=e,c=f.Math.geoLerp(h,r,.3,this._keyPositions[7]),u=f.Math.hpr(a,_,this._hpr)[0],d=f.Math.geoMove(_,Math.PI+u,.1*l,this._keyPositions[8]),P=f.Math.geoMove(d,u-.5*Math.PI,.04*l,this._keyPositions[9]),y=f.Math.geoMove(d,u+.5*Math.PI,.04*l,this._keyPositions[10]),g=f.Math.geoLerp(P,y,-.5,this._keyPositions[11]),M=f.Math.geoLerp(P,y,1.5,this._keyPositions[12]),w=f.Math.geoLerp(P,c,.5,this._keyPositions[13]),v=f.Math.geoLerp(y,a,.5,this._keyPositions[14]),m=(f.Math.geoLerp(w,v,.3,this._keyPositions[15]),f.Math.geoLerp(w,v,1.3,this._keyPositions[16]));f.Math.Bezier.bezier2(a,m,y,19,this._rightArrowRightPositions);const b=f.Math.geoLerp(h,r,.3,this._keyPositions[17]),E=n,A=t,X=f.Math.hpr(A,E,this._hpr)[0],x=f.Math.geoMove(E,Math.PI+X,.1*l,this._keyPositions[18]),k=f.Math.geoMove(x,X-.5*Math.PI,.04*l,this._keyPositions[19]),O=f.Math.geoMove(x,X+.5*Math.PI,.04*l,this._keyPositions[20]),T=f.Math.geoLerp(k,O,-.5,this._keyPositions[21]),S=f.Math.geoLerp(k,O,1.5,this._keyPositions[22]),I=f.Math.geoLerp(k,A,.5,this._keyPositions[23]),V=f.Math.geoLerp(O,b,.5,this._keyPositions[24]),j=f.Math.geoLerp(I,V,-.3,this._keyPositions[25]);f.Math.geoLerp(I,V,.7,this._keyPositions[26]);f.Math.Bezier.bezier3(P,s,t,O,19,this._leftArrowRightPositions),f.Math.Bezier.bezier2(k,j,A,19,this._leftArrowLeftPositions),this._polygonPositions.length=0,this._bottomCurcePositions.forEach(i=>{this._polygonPositions.push(i[0],i[1])}),this._rightArrowRightPositions.forEach(i=>this._polygonPositions.push(i[0],i[1])),this._polygonPositions.push(M[0],M[1]),this._polygonPositions.push(_[0],_[1]),this._polygonPositions.push(g[0],g[1]),this._leftArrowRightPositions.forEach(i=>this._polygonPositions.push(i[0],i[1])),this._polygonPositions.push(S[0],S[1]),this._polygonPositions.push(E[0],E[1]),this._polygonPositions.push(T[0],T[1]),this._leftArrowLeftPositions.forEach(i=>this._polygonPositions.push(i[0],i[1])),this._polygon.positions=this._polygonPositions,this._polygon.height=i[0][2],this._polygonShow=!0}))}}M.registerType(M,"GeoDoubleArrow");var w=M;const v=XE.Tool;class m extends c{constructor(i,o){super(i,o),this._onlyMove=!0,this._fixedPositionsNum=2,this._polygonPositions=new Array(4).fill(0).map(i=>[0,0,0]),this._pgPositions=[],this._nextPosition=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{if(i.length<2)return void(this._polygonShow=!1);const o=v.Math.geoDistance(i[0],i[1]);this._polygonPositions.length=0,this._polygonPositions.push([...i[1]]);const t=v.Math.hpr(i[0],i[1]);if(!t)return;for(var s=0;s<3;s++)v.Math.geoMove(i[0],t[0]+=Math.PI/2,o,this._nextPosition),this._polygonPositions.push([...this._nextPosition]);this._pgPositions.length=0,this._polygonPositions.forEach(i=>{this._pgPositions.push(i[0],i[1])}),this._polygon.positions=this._pgPositions,this._polygon.height=i[0][2],this._polygonShow=!0}))}}m.registerType(m,"GeoRectangle");var b=m;const E=XE.Tool;class A extends c{constructor(i,o){super(i,o),this._onlyMove=!0,this._fixedPositionsNum=2,this._polygonPositions=new Array(360).fill(0).map(i=>[0,0,0]),this._pgPositions=[],this._nextPosition=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{if(i.length<2)return void(this._polygonShow=!1);const o=E.Math.geoDistance(i[0],i[1]);this._polygonPositions.length=0,this._polygonPositions.push([...i[1]]);const t=E.Math.hpr(i[0],i[1]);if(!t)return;for(var s=0;s<359;s++)E.Math.geoMove(i[0],t[0]+=Math.PI/180,o,this._nextPosition),this._polygonPositions.push([...this._nextPosition]);this._pgPositions.length=0,this._polygonPositions.forEach(i=>{this._pgPositions.push(i[0],i[1])}),this._polygon.positions=this._pgPositions,this._polygon.height=i[0][2],this._polygonShow=!0}))}}A.registerType(A,"GeoCircle");var X=A;XE.Tool;class x extends c{constructor(i,o){super(i,o),this._pgPositions=[],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{i.length<=1||(this._pgPositions.length=0,i.forEach(i=>{this._pgPositions.push(i[0],i[1])}),this._polygon.positions=this._pgPositions,this._polygon.height=i[0][2])}))}}x.registerType(x,"GeoPolygon");var k=x;XE.Tool;class O extends XE.Core.XbsjCzmObj{constructor(i,o){super(i,o),this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPositionEditing(this._earth,this,{positionEditingProperty:"editing"})),this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPositionPicking(this._earth,this,{positionPickingProperty:"creating"})),this._pin=new XE.Obj.Pin(i),this.disposers.push(()=>this._pin=this._pin&&this._pin.destroy()),this.disposers.push(XE.MVVM.watch(()=>{this._pin.position=[...this.position],this._pin.viewDistance=this.viewDistance,this._pin.scale=this.scale,this._pin.near=this.near,this._pin.far=this.far,this._pin.disableDepthTestDistance=this.disableDepthTestDistance,this._pin.enabled=this.enabled,this._pin.cameraAttached=this.cameraAttached,this._pin.attachedPathGuid=this.attachedPathGuid})),this.disposers.push(XE.MVVM.bind(this,"cameraAttached",this,"_pin.cameraAttached")),this._div=document.createElement("div"),this._div.id=this._pin.guid,this._div.innerHTML=this.innerHTML,this._div.style.position="absolute",this._div.style.pointerEvents="none";let t=this._pin;this.disposers.push(XE.MVVM.watch(()=>[...t.winPos],i=>{this._div.style.left=i[0]+"px",this._div.style.bottom=i[3]+"px"})),i.czm.viewer.container.appendChild(this._div),this.disposers.push(XE.MVVM.watch(()=>({cameraPosition:[...i.camera.position],near:this.near,far:this.far,position:[...this.position],enabled:this.enabled}),i=>{let o=XE.Tool.Math.distance([i.position,i.cameraPosition]);i.near<=o&&o<=i.far?this._div.style.display="block":this._div.style.display="none",i.enabled?this._div.style.display="block":this._div.style.display="none"})),this._pin.show=!1,this.defaultImgUrl=function(){return"./assets/dialog.png"},this.innerHTML="<div\n        style=\"height:50px;width:100px;left:-76px;\n        bottom:0px;position: absolute;color: white;\n        background-size: 100% 100%;padding: 5px;\n        border-radius: 5px;cursor:pointer;\n        background-image:url('"+this.defaultImgUrl()+"');\">\n    标记文字\n    </div>",this.disposers.push(XE.MVVM.watch(()=>{this._div.innerHTML=this.innerHTML}))}destroy(){return this._div&&this._div.parentNode.removeChild(this._div),super.destroy()}}O.defaultOptions={position:[0,0,0],viewDistance:100,scale:1,near:0,cameraAttached:!1,attachedPathGuid:"",far:Number.MAX_VALUE,disableDepthTestDistance:Number.MAX_VALUE,show:!1,innerHTML:"",defaultImgUrl:Function},O.registerType(O,"GeoPin");var T=O;XE.Tool;class S extends c{constructor(i,o){super(i,o),this._onlyMove=!0,this._fixedPositionsNum=2,this._polygonPositions=[],this._hpr=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{if(i.length<2)return void(this._polygonShow=!1);this._polygonPositions.length=0,this._polygonPositions.push(i[0][0],i[1][1]),this._polygonPositions.push(i[0][0],i[0][1]),this._polygonPositions.push(i[1][0],i[0][1]),this._polygonPositions.push(i[1][0],.5*(i[0][1]+i[1][1]));const o=i[1][0]-i[0][0];this._polygonPositions.push(i[0][0]+.01*o,.5*(i[0][1]+i[1][1])),this._polygonPositions.push(i[0][0]+.01*o,i[1][1]),this._polygon.positions=this._polygonPositions,this._polygon.height=i[0][2],this._polygonShow=!0}))}}S.registerType(S,"GeoRightAngleFlag");var I=S;const V=XE.Tool;class j extends c{constructor(i,o){super(i,o),this._onlyMove=!0,this._fixedPositionsNum=2,this._polygonPositions=[],this._hpr=[0,0,0],this._keyPositions=new Array(50).fill(0).map(i=>[0,0,0]),this._bottomCurcePositions=new Array(20).fill(0).map(i=>[0,0,0]),this._sbottomCurcePositions=new Array(20).fill(0).map(i=>[0,0,0]),this._tbottomCurcePositions=new Array(20).fill(0).map(i=>[0,0,0]),this._fbottomCurcePositions=new Array(20).fill(0).map(i=>[0,0,0]),this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{if(i.length<2)return void(this._polygonShow=!1);this._keyPositions[0].splice(0,3,...i[0]),this._keyPositions[1].splice(0,3,...i[1]),this._polygonPositions.length=0,this._polygonPositions.push(i[0][0],i[1][1]),this._polygonPositions.push(i[0][0],i[0][1]);const o=i[1][0]-i[0][0],t=[i[0][0],i[0][1],0],s=[.5*(i[0][0]+i[1][0]),i[0][1],0],e=[.5*(i[0][0]+i[1][0])-2*o,i[0][1]-.8*o,0],n=[i[0][0],i[0][1]-o,0],h=V.Math.geoLerp(t,s,.9,this._keyPositions[4]),r=V.Math.geoLerp(e,n,.9,this._keyPositions[5]),p=V.Math.geoLerp(h,r,.2,this._keyPositions[6]);V.Math.Bezier.bezier2(t,p,s,19,this._bottomCurcePositions),this._bottomCurcePositions.forEach(i=>{this._polygonPositions.push(i[0],i[1])});const l=[.5*(i[0][0]+i[1][0]),i[0][1],0],a=[i[1][0],i[0][1],0],_=[.5*(i[0][0]+i[1][0])+o,i[0][1]-.1*o+o,0],c=[i[0][0],i[0][1]-o,0],u=V.Math.geoLerp(l,a,.1,this._keyPositions[7]),d=V.Math.geoLerp(_,c,.1,this._keyPositions[8]),P=V.Math.geoLerp(u,d,.2,this._keyPositions[9]);V.Math.Bezier.bezier2(l,P,a,19,this._sbottomCurcePositions),this._sbottomCurcePositions.forEach(i=>{this._polygonPositions.push(i[0],i[1])}),this._polygonPositions.push(i[1][0],i[0][1]),this._polygonPositions.push(i[1][0],.5*(i[0][1]+i[1][1]));const y=[i[1][0],.5*(i[0][1]+i[1][1]),0],g=[.5*(i[0][0]+i[1][0]),.5*(i[0][1]+i[1][1]),0],f=[i[1][0]-o,.5*(i[0][1]+i[1][1])+.5*o,0],M=[i[1][0]-6*o,.5*(i[0][1]+i[1][1])+2*o,0],w=V.Math.geoLerp(y,g,.1,this._keyPositions[7]),v=V.Math.geoLerp(f,M,.1,this._keyPositions[8]),m=V.Math.geoLerp(w,v,.2,this._keyPositions[9]);V.Math.Bezier.bezier2(y,m,g,19,this._tbottomCurcePositions),this._tbottomCurcePositions.forEach(i=>{this._polygonPositions.push(i[0],i[1])});const b=[.5*(i[0][0]+i[1][0]),.5*(i[0][1]+i[1][1]),0],E=[i[0][0]+.01*o,.5*(i[0][1]+i[1][1]),0],A=[.5*(i[0][0]+i[1][0])+5*o,.5*(i[0][1]+i[1][1])-1.1*o,0],X=[i[0][0]+1.01*o,.5*(i[0][1]+i[1][1])-o,0],x=V.Math.geoLerp(b,E,.9,this._keyPositions[4]),k=V.Math.geoLerp(A,X,.9,this._keyPositions[5]),O=V.Math.geoLerp(x,k,.2,this._keyPositions[6]);V.Math.Bezier.bezier2(b,O,E,19,this._fbottomCurcePositions),this._fbottomCurcePositions.forEach(i=>{this._polygonPositions.push(i[0],i[1])}),this._polygonPositions.push(i[0][0]+.01*o,i[1][1]),this._polygon.positions=this._polygonPositions,this._polygon.height=i[0][2],this._polygonShow=!0}))}}j.registerType(j,"GeoCurveFlag");var L=j;XE.Tool;class D extends e{constructor(i,o){super(i,o),this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{this._polyline.positions=i}))}}D.registerType(D,"GeoPolyline");var G=D;const C=XE.Tool;class z extends e{constructor(i,o){super(i,o),this._onlyMove=!0,this._fixedPositionsNum=3,this._polylinePositions=new Array(360).fill(0).map(i=>[0,0,0]),this._pgPositions=[],this._nextPosition=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{if(i.length<3)return void(this._polylineShow=!1);const o=C.Math.geoDistance(i[0],i[1]);this._polylinePositions.length=0,this._polylinePositions.push([...i[1]]);const t=C.Math.hpr(i[0],i[1]),s=C.Math.hpr(i[0],i[2]);var e=0;e=t[0]>=s[0]?(t[0]-s[0])*(180/Math.PI):(t[0]-s[0]+2*Math.PI)*(180/Math.PI);for(var n=0;n<e;n++)C.Math.geoMove(i[0],t[0]-=Math.PI/180,o,this._nextPosition),this._polylinePositions.push([...this._nextPosition]);this._polyline.positions=this._polylinePositions,this._polylineShow=!0}))}}z.registerType(z,"GeoArc");var H=z;const N=XE.Tool;class B extends e{constructor(i,o){super(i,o),this._onlyMove=!0,this._fixedPositionsNum=3,this._bezierPositions=new Array(20).fill(0).map(i=>[0,0,0]),this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{i.length<3||N.Math.hasSamePosition(i)?this._polylineShow=!1:(N.Math.Bezier.bezier2(i[0],i[1],i[2],19,this._bezierPositions),this._polyline.positions=this._bezierPositions,this._polylineShow=!0)}))}}B.registerType(B,"GeoBezier2");var R=B;const U=XE.Tool;class F extends e{constructor(i,o){super(i,o),this._onlyMove=!0,this._fixedPositionsNum=4,this._bezierPositions=new Array(20).fill(0).map(i=>[0,0,0]),this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{i.length<4||U.Math.hasSamePosition(i)?this._polylineShow=!1:(U.Math.Bezier.bezier3(i[0],i[1],i[2],i[3],19,this._bezierPositions),this._polyline.positions=this._bezierPositions,this._polylineShow=!0)}))}}F.registerType(F,"GeoBezier3");var q=F;const W=XE.Tool;class J extends c{constructor(i,o){super(i,o),this._onlyMove=!0,this._fixedPositionsNum=3,this._polygonPositions=new Array(360).fill(0).map(i=>[0,0,0]),this._pgPositions=[],this._nextPosition=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{if(i.length<3)return void(this._polygonShow=!1);const o=W.Math.geoDistance(i[0],i[1]);this._polygonPositions.length=0,this._polygonPositions.push([...i[0]]),this._polygonPositions.push([...i[1]]);const t=W.Math.hpr(i[0],i[1]),s=W.Math.hpr(i[0],i[2]);if(!t||!s)return;var e=0;e=t[0]>=s[0]?(t[0]-s[0])*(180/Math.PI):(t[0]-s[0]+2*Math.PI)*(180/Math.PI);for(var n=0;n<e;n++)W.Math.geoMove(i[0],t[0]-=Math.PI/180,o,this._nextPosition),this._polygonPositions.push([...this._nextPosition]);this._pgPositions.length=0,this._polygonPositions.forEach(i=>{this._pgPositions.push(i[0],i[1])}),this._polygon.positions=this._pgPositions,this._polygon.height=i[0][2],this._polygonShow=!0}))}}J.registerType(J,"GeoSector");var K=J;const Q=XE.Tool;class Y extends e{constructor(i,o){super(i,o),this._leftArrowPosition=[0,0,0],this._rightArrowPosition=[0,0,0],this._leftArrowPosition2=[0,0,0],this._rightArrowPosition2=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(i=>[...i])],i=>{const o=i.length;Q.Math.distance(i);if(o<2||Q.Math.hasSamePosition(i))this._polylineShow=!1;else{if(o>2)for(var t=o-1;t>0;t--){t>1&&(t%2==0?i[t][0]=i[t-1][0]:i[t][1]=i[t-1][1]);const o=Q.Math.hpr(i[t],i[t-1]);if(!o)return;Q.Math.geoMove(i[t],o[0]+Math.PI/6,.1*Q.Math.distance(i[t-1],i[t]),this._leftArrowPosition),Q.Math.geoMove(i[t],o[0]-Math.PI/6,.1*Q.Math.distance(i[t-1],i[t]),this._rightArrowPosition),i.push([...i[t]]),i.push([...this._leftArrowPosition]),i.push([...i[t]]),i.push([...this._rightArrowPosition]),i.push([...i[t]])}this._polyline.positions=i,this._polylineShow=!0}}))}}Y.registerType(Y,"GeoParallelSearch");var Z=Y;const $=XE.Tool;class ii extends e{constructor(i,o){super(i,o),this._positions=[],this.disposers.push(XE.MVVM.watch(()=>({positions:[...this.positions.map(i=>[...i])],slices:this.slices}),({positions:i,slices:o})=>{i.length<2?this._polylineShow=!1:(this._positions.length=0,$.Math.interpolatePositions(i,o,!1,this._positions),this._polyline.positions=this._positions,this._polylineShow=!0)}))}}ii.defaultOptions={slices:100},ii.registerType(ii,"GeoCurve");var oi=ii;XE.Obj.Plots=XE.Obj.Plots||{},XE.Obj.Plots.GeoSectorSearch=r,XE.Obj.Plots.GeoPolylineArrow=a,XE.Obj.Plots.GeoTriFlag=d,XE.Obj.Plots.GeoCurveArrow=g,XE.Obj.Plots.GeoDoubleArrow=w,XE.Obj.Plots.GeoRectangle=b,XE.Obj.Plots.GeoCircle=X,XE.Obj.Plots.GeoPolygon=k,XE.Obj.Plots.GeoPin=T,XE.Obj.Plots.GeoRightAngleFlag=I,XE.Obj.Plots.GeoCurveFlag=L,XE.Obj.Plots.GeoPolyline=G,XE.Obj.Plots.GeoArc=H,XE.Obj.Plots.GeoBezier2=R,XE.Obj.Plots.GeoBezier3=q,XE.Obj.Plots.GeoSector=K,XE.Obj.Plots.GeoParallelSearch=Z,XE.Obj.Plots.GeoCurve=oi}]);
//# sourceMappingURL=plottingSymbol.js.map